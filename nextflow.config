profiles {
    standard {
        process {
            executor = 'local'
        }
    }
    CC {
    	process {
            scratch = true
	    clusterOptions = '--account=def-bouchar3'
	    withLabel: cluster_light_job {
	        executor = 'slurm'
                cpus = 2
                memory = 4.GB
                time = '10m'
            }
            withLabel: cluster_full_job {
	        executor = 'slurm'
                cpus = 9
        	memory = 48.GB
        	time = '4h'
    	    }
	    withLabel: local_job {
		executor = 'local'
	    }
	}
    }
    sockeye {
        process {
            scratch = true
            process.conda = "$baseDir/custom-conda-env.yml"
	    clusterOptions = '-A st-tdjc-1'
	    withLabel: cluster_light_job {
	        executor = 'pbspro'
	        cpus = 2
                memory = 4.GB
                time = '10m'
            }
            withLabel: cluster_full_job {
                executor = 'pbspro'
                cpus = 9
        	memory = 48.GB
        	time = '4h'
    	    }
	    withLabel: local_job {
		executor = 'local'
	    }
        }
        conda {
            conda.enabled = true
        }
    }
}

executor {
  $slurm {
      queueSize = 200
  }

  $pbspro {
      queueSize = 200
  }
}

